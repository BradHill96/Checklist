
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Room Checklist</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            background-color: #fcd303;
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        select, input[type="checkbox"], button, textarea {
            font-size: 1.2em;
            margin: 10px 0;
        }
        label {
            display: block;
            margin-top: 10px;
        }
        .checkbox-group {
            margin-bottom: 20px;
        }
        textarea {
            width: 100%;
        }
    </style>
</head>
<body>
    <h2>Room Checklist</h2>
    <label for="roomSelect">Select Room:</label>
    <select id="roomSelect">
        <option value="1">Room 1</option>
<option value="2">Room 2</option>
<option value="3">Room 3</option>
<option value="4">Room 4</option>
<option value="5">Room 5</option>
<option value="6">Room 6</option>
<option value="7">Room 7</option>
<option value="8">Room 8</option>
<option value="9">Room 9</option>
<option value="10">Room 10</option>
<option value="11">Room 11</option>
<option value="12">Room 12</option>
<option value="13">Room 13</option>
<option value="14">Room 14</option>
<option value="15">Room 15</option>
<option value="16">Room 16</option>
<option value="17">Room 17</option>
<option value="18">Room 18</option>
<option value="19">Room 19</option>
<option value="20">Room 20</option>
<option value="21">Room 21</option>
<option value="22">Room 22</option>
<option value="23">Room 23</option>
<option value="24">Room 24</option>
<option value="25">Room 25</option>
<option value="26">Room 26</option>
<option value="27">Room 27</option>
<option value="28">Room 28</option>
<option value="29">Room 29</option>
<option value="30">Room 30</option>
<option value="31">Room 31</option>
<option value="32">Room 32</option>
<option value="33">Room 33</option>
<option value="34">Room 34</option>
<option value="35">Room 35</option>
<option value="36">Room 36</option>
<option value="37">Room 37</option>
<option value="38">Room 38</option>
<option value="39">Room 39</option>
<option value="40">Room 40</option>
<option value="41">Room 41</option>
<option value="42">Room 42</option>
<option value="43">Room 43</option>
<option value="44">Room 44</option>
<option value="45">Room 45</option>
<option value="46">Room 46</option>
<option value="47">Room 47</option>
<option value="48">Room 48</option>
<option value="49">Room 49</option>
<option value="50">Room 50</option>
<option value="51">Room 51</option>
<option value="52">Room 52</option>
<option value="53">Room 53</option>
<option value="54">Room 54</option>
<option value="55">Room 55</option>
<option value="56">Room 56</option>
<option value="57">Room 57</option>
<option value="58">Room 58</option>
<option value="59">Room 59</option>
<option value="60">Room 60</option>
<option value="61">Room 61</option>
<option value="62">Room 62</option>
<option value="63">Room 63</option>
<option value="64">Room 64</option>
<option value="65">Room 65</option>
<option value="66">Room 66</option>
<option value="67">Room 67</option>
<option value="68">Room 68</option>
<option value="69">Room 69</option>
<option value="70">Room 70</option>
<option value="71">Room 71</option>
<option value="72">Room 72</option>
<option value="73">Room 73</option>
<option value="74">Room 74</option>
<option value="75">Room 75</option>
<option value="76">Room 76</option>
<option value="77">Room 77</option>
<option value="78">Room 78</option>
<option value="79">Room 79</option>
<option value="80">Room 80</option>
<option value="81">Room 81</option>
<option value="82">Room 82</option>
<option value="83">Room 83</option>
    </select>

    <div class="checkbox-group">
        <label><input type="checkbox" value="SA"> SA</label>
        <label><input type="checkbox" value="NC"> NC</label>
        <label><input type="checkbox" value="Bed Mat"> Bed Mat</label>
        <label><input type="checkbox" value="Shower"> Shower</label>
        <label><input type="checkbox" value="Ensuite"> Ensuite</label>
        <label><input type="checkbox" value="Blank Plates Installed"> Blank Plates Installed</label>
        <label><input type="checkbox" value="Tidied"> Tidied</label>
    </div>

    <button onclick="submitChecklist()">Submit</button>

    <div style="margin-top:20px;">
        <label for="searchRoom">Search Room:</label>
        <input type="text" id="searchRoom" placeholder="Enter room number">
        <button onclick="searchByRoom()">Search</button>
    </div>

    <textarea id="savedData" rows="10" placeholder="Saved data will appear here..."></textarea>
    <div>
        <button onclick="displaySavedData()">View Saved Data</button>
        <button onclick="exportData()">Export Data</button>
    </div>

    <script>
        function loadSavedData() {
            const saved = JSON.parse(localStorage.getItem("roomChecklist") || "[]");
            return saved;
        }

        function displaySavedData() {
            const saved = loadSavedData();
            const output = document.getElementById("savedData");
            output.value = saved.map(entry => `Room ${entry.room}: ${entry.items.join(", ")} (${entry.timestamp})`).join("\n");
        }

        function exportData() {
            const saved = loadSavedData();
            const text = saved.map(entry => `Room ${entry.room}: ${entry.items.join(", ")} (${entry.timestamp})`).join("\n");
            const blob = new Blob([text], { type: "text/plain" });
            const link = document.createElement("a");
            link.href = URL.createObjectURL(blob);
            link.download = "room_checklist.txt";
            link.click();
        }

        function searchByRoom() {
            const roomNumber = document.getElementById("searchRoom").value;
            const saved = loadSavedData();
            const entry = saved.find(e => e.room === roomNumber);
            if (entry) {
                document.getElementById("roomSelect").value = entry.room;
                document.querySelectorAll("input[type=checkbox]").forEach(cb => {
                    cb.checked = entry.items.includes(cb.value);
                });
            } else {
                alert("No entry found for Room " + roomNumber);
            }
        }

        function submitChecklist() {
            const room = document.getElementById("roomSelect").value;
            const items = Array.from(document.querySelectorAll("input[type=checkbox]:checked")).map(cb => cb.value);
            const timestamp = new Date().toLocaleString();
            let saved = loadSavedData();
            const index = saved.findIndex(e => e.room === room);
            if (index >= 0) {
                saved[index] = { room, items, timestamp };
            } else {
                saved.push({ room, items, timestamp });
            }
            localStorage.setItem("roomChecklist", JSON.stringify(saved));
            displaySavedData();
            document.querySelectorAll("input[type=checkbox]").forEach(cb => cb.checked = false);
            alert("Checklist saved for Room " + room);
        }
    </script>
</body>
</html>
